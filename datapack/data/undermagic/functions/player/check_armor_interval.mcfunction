
#get ID length so not every ID has to be checked
execute store result score $length um.dummy run data get entity @s Inventory[{Slot:102b}].tag.um_id

#check armor
execute if score $length um.dummy matches 23 if score @s um.blood matches ..195 if entity @s[nbt={Inventory:[{Slot:103b,tag:{um_id:"bloodstained_helmet"}},{Slot:102b,tag:{um_id:"bloodstained_chestplate"}},{Slot:101b,tag:{um_id:"bloodstained_leggings"}},{Slot:100b,tag:{um_id:"bloodstained_boots"}}]}] if entity @e[tag=um_bloodchalice,scores={um.dummy=5..},sort=nearest,distance=..8] unless entity @e[distance=..64,type=wither] unless entity @e[distance=..64,tag=um_elemental] unless entity @e[distance=..64,tag=um_pit_lord_boss] unless entity @e[distance=..64,tag=um_blood_boss] unless entity @e[distance=..64,type=ender_dragon] run function undermagic:item/armor/bs_armor_draw_blood
execute if score $length um.dummy matches 23 if score @s um.blood matches ..010 if entity @s[nbt={Inventory:[{Slot:103b,tag:{um_id:"bloodstained_helmet"}},{Slot:102b,tag:{um_id:"bloodstained_chestplate"}},{Slot:101b,tag:{um_id:"bloodstained_leggings"}},{Slot:100b,tag:{um_id:"bloodstained_boots"}}]}] run effect give @s wither 4 4
execute if score $length um.dummy matches 23 if score @s um.blood matches ..010 if entity @s[nbt={Inventory:[{Slot:103b,tag:{um_id:"bloodstained_helmet"}},{Slot:102b,tag:{um_id:"bloodstained_chestplate"}},{Slot:101b,tag:{um_id:"bloodstained_leggings"}},{Slot:100b,tag:{um_id:"bloodstained_boots"}}]}] run effect give @s hunger 4 4

execute if score $length um.dummy matches 18 if entity @s[nbt={Inventory:[{Slot:103b,tag:{um_id:"abyss_ranger_hood"}},{Count:1b,Slot:102b,tag:{um_id:"abyss_ranger_tunic"}},{Slot:101b,tag:{um_id:"abyss_ranger_pants"}},{Slot:100b,tag:{um_id:"abyss_ranger_boots"}}]},scores={um.ar_stealth=100..}] run effect give @s speed 2 0 true
execute if score $length um.dummy matches 18 if entity @s[nbt={Inventory:[{Slot:103b,tag:{um_id:"abyss_ranger_hood"}},{Count:1b,Slot:102b,tag:{um_id:"abyss_ranger_tunic"}},{Slot:101b,tag:{um_id:"abyss_ranger_pants"}},{Slot:100b,tag:{um_id:"abyss_ranger_boots"}}]},scores={um.ar_stealth=100..}] run effect give @s invisibility 2 0 true

execute if score $length um.dummy matches 16 if entity @s[nbt={Inventory:[{Slot:103b,tag:{um_id:"shade_helmet"}},{Slot:102b,tag:{um_id:"shade_chestplate"}},{Slot:101b,tag:{um_id:"shade_leggings"}},{Slot:100b,tag:{um_id:"shade_boots"}}]}] run effect give @s invisibility 1 0 true
execute if score $length um.dummy matches 16 if score @s um.shade_invi matches ..0 if entity @s[nbt={Inventory:[{Slot:103b,tag:{um_id:"shade_helmet"}},{Count:1b,Slot:102b,tag:{um_id:"shade_chestplate"}},{Slot:101b,tag:{um_id:"shade_leggings"}},{Slot:100b,tag:{um_id:"shade_boots"}}]}] run effect give @s resistance 1 4 true
execute if score $length um.dummy matches 16 if score @s um.shade_invi matches ..0 if entity @s[nbt={Inventory:[{Slot:103b,tag:{um_id:"shade_helmet"}},{Count:1b,Slot:102b,tag:{um_id:"shade_chestplate"}},{Slot:101b,tag:{um_id:"shade_leggings"}},{Slot:100b,tag:{um_id:"shade_boots"}}]}] run effect give @s strength 1 1 true

execute if score $length um.dummy matches 23 if entity @s[nbt={Inventory:[{Slot:103b,tag:{um_id:"abyss_knight_helmet"}},{Count:1b,Slot:102b,tag:{um_id:"abyss_knight_chestplate"}},{Slot:101b,tag:{um_id:"abyss_knight_leggings"}},{Slot:100b,tag:{um_id:"abyss_knight_boots"}}]}] run effect give @s resistance 2 1 true
execute if score $length um.dummy matches 16 if entity @s[nbt={Inventory:[{Slot:103b,tag:{um_id:"omega_helmet"}},{Count:1b,Slot:102b,tag:{um_id:"omega_chestplate"}},{Slot:101b,tag:{um_id:"omega_leggings"}},{Slot:100b,tag:{um_id:"omega_boots"}}]}] run particle minecraft:end_rod ~ ~1 ~ 0.2 0.4 0.2 0.03 2
